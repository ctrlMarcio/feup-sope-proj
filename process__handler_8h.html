<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>simpledu: /home/runner/work/feup-sope-proj1/feup-sope-proj1/src/process_handler.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">simpledu
   </div>
   <div id="projectbrief">Project from the Operating Systems course unit - FEUP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">process_handler.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles the signals of the processes.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/wait.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for process_handler.h:</div>
<div class="dyncontent">
<div class="center"><img src="process__handler_8h__incl.png" border="0" usemap="#_2home_2runner_2work_2feup-sope-proj1_2feup-sope-proj1_2src_2process__handler_8h" alt=""/></div>
<!-- MAP 0 -->
</div>
</div>
<p><a href="process__handler_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acc065c788ee51b7b807e8893ea89616c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__handler_8h.html#acc065c788ee51b7b807e8893ea89616c">setupProcessHandlers</a> ()</td></tr>
<tr class="memdesc:acc065c788ee51b7b807e8893ea89616c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the handlers for a child process.  <a href="#acc065c788ee51b7b807e8893ea89616c">More...</a><br /></td></tr>
<tr class="separator:acc065c788ee51b7b807e8893ea89616c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a272bdadc7cc55bfb0639fa0052a14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__handler_8h.html#a51a272bdadc7cc55bfb0639fa0052a14">setupParentHandlers</a> ()</td></tr>
<tr class="memdesc:a51a272bdadc7cc55bfb0639fa0052a14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the handlers for the parent process.  <a href="#a51a272bdadc7cc55bfb0639fa0052a14">More...</a><br /></td></tr>
<tr class="separator:a51a272bdadc7cc55bfb0639fa0052a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd0d87a5362857cf74a2bcbe9f302da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__handler_8h.html#aefd0d87a5362857cf74a2bcbe9f302da">setChildrenGroup</a> (pid_t pid)</td></tr>
<tr class="memdesc:aefd0d87a5362857cf74a2bcbe9f302da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a process to the children group.  <a href="#aefd0d87a5362857cf74a2bcbe9f302da">More...</a><br /></td></tr>
<tr class="separator:aefd0d87a5362857cf74a2bcbe9f302da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a93f3ff8c1cf8dc31ec2996783880a664"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__handler_8h.html#a93f3ff8c1cf8dc31ec2996783880a664">childrenpg</a></td></tr>
<tr class="memdesc:a93f3ff8c1cf8dc31ec2996783880a664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process ID of the children process group.  <a href="#a93f3ff8c1cf8dc31ec2996783880a664">More...</a><br /></td></tr>
<tr class="separator:a93f3ff8c1cf8dc31ec2996783880a664"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles the signals of the processes. </p>
<dl class="section author"><dt>Author</dt><dd>Luís Tavares </dd>
<dd>
Márcio Duarte </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aefd0d87a5362857cf74a2bcbe9f302da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefd0d87a5362857cf74a2bcbe9f302da">&#9670;&nbsp;</a></span>setChildrenGroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setChildrenGroup </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a process to the children group. </p>
<p>If the children group is empty, assigns its ID to the ID of this child. If not, only sets this child's pg ID accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the ID of the process to set to the children group </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a51a272bdadc7cc55bfb0639fa0052a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51a272bdadc7cc55bfb0639fa0052a14">&#9670;&nbsp;</a></span>setupParentHandlers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupParentHandlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the handlers for the parent process. </p>
<p>Upon receiving a SIGINT, sends a SIGSTOP to all its children. Then, asks the user if he really wants to terminate the program, sending SIGTERM to all its children if the user agrees, or SIGCONT if it wants to continue the program. </p>

</div>
</div>
<a id="acc065c788ee51b7b807e8893ea89616c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc065c788ee51b7b807e8893ea89616c">&#9670;&nbsp;</a></span>setupProcessHandlers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupProcessHandlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the handlers for a child process. </p>
<p>Ignores SIGINT (only the parent should receive it).</p>
<p>Logs and exits upon receiving SIGTERM.</p>
<p>Logs upon receiving SIGCONT. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a93f3ff8c1cf8dc31ec2996783880a664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f3ff8c1cf8dc31ec2996783880a664">&#9670;&nbsp;</a></span>childrenpg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pid_t childrenpg</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process ID of the children process group. </p>
<p>With the exception of the very first process (the parent), all processes will be assigned the same process group, childrenpg is the ID of this process group.</p>
<p>The ID of the process group is the same as the ID of the first child. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
